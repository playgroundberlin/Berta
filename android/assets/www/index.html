<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="format-detection" content="telephone=no">
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi">
  <meta name="msapplication-tap-highlight" content="no">

  <title>Berta - Der kleene Musikkompass</title>

  <link href="css/normalize.css" rel="stylesheet">
  <link href="css/index.css" rel="stylesheet">
</head>
<body>
  <div id="app" class="fullscreen"></div>

  <!-- Cordova -->
  <script src="cordova.js"></script>

  <!-- Libraries -->
  <!-- <script src="js/react-0.10.0.min.js"></script> -->
  <script src="js/react-0.10.0.js"></script>
  <script src="js/event-emitter.js"></script>
  <script src="js/latlon.js"></script>
  <!-- <script src="js/sylvester.js"></script> -->
  <!-- <script src="js/kalman.js"></script> -->
  <script src="js/mustache.js"></script>

  <!-- Application -->
  <script src="js/gps-tracker.js"></script>
  <script src="js/config.js"></script>
  <script src="js/berta.js"></script>
  <script src="js/ui.js"></script>

  <script>
    // Cordova is ready
    function onDeviceReady() {
      // Setup/configuration

      var config = {
        orientation: 'landscape', // device orientation: portrait/landscape
        distlimit: 15             // radius for tour locations, in meters
      };

      var tour = TOURS['default']; // default, test etc. (see config.js)

      var hardware = new UDPClient(HWIP, HWPORT);
      var tracker = new GPSTracker();

      // Wake up Berta

      var berta = window.berta = new Berta(tracker, tour, config);

      // Render Berta's UI

      var root = document.getElementById('app');

      React.renderComponent(App({
        messages: MESSAGES,
        hardware: hardware,
        tracker: tracker,
        berta: berta
      }), root);

      // Begin the tour

      berta.start();
    }

    // Wait for Cordova to load
    document.addEventListener('deviceready', onDeviceReady, false);
  </script>
</body>
</html>
